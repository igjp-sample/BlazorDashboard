/*! For license information please see heatWorker.js.LICENSE.txt */
(()=>{"use strict";let t={},e=0;class i{constructor(){}equals(t){return this===t}static equalsStatic(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;return i||s?i&&s:t.equals?t.equals(e):e.equals?e.equals(t):!(!Number.isNaN(t)||!Number.isNaN(e))||(t instanceof Date?e instanceof Date&&+t==+e:t==e&&typeof t==typeof e)}static equalsSimple(t,e){return t==e}static compareSimple(t,e){return t==e?0:t<e?-1:1}static compare(t,e){if(t===e)return 0;var s=n(w,t);if(null!==s&&s.compareToObject)return s.compareToObject(e);var r=n(w,e);return null!==r&&r.compareToObject?-r.compareToObject(t):i.compareSimple(t,e)}getHashCode(){return void 0===this.$hashCode&&(this.$hashCode=i.nextHashCode++),this.$hashCode}static getHashCodeStatic(t){return t.getHashCode?t.getHashCode():void 0!==t.$hashCode?t.$hashCode:"object"!=typeof t?s.getPrimitiveHashCode(t):(t.$hashCode=i.nextHashCode++,t.$hashCode)}memberwiseClone(){var t;try{t=Object.create(this.$type.InstanceConstructor.prototype)}catch(e){class i{}i.prototype=this.$type.InstanceConstructor.prototype,t=new i}for(var e in this)this.hasOwnProperty(e)&&(t[e]=this[e]);return t}static referenceEquals(t,e){return t===e||null==t&&null==e}static getArrayOfValues(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);return e}static getArrayOfProperties(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}}i.nextHashCode=0;class s extends i{constructor(s,r,n=i.prototype.$type,l=null,a=null){super(),this.specializationCache=null,this._staticInitializer=null,this.name=null,this.typeArguments=null,this.baseType=null,this.interfaces=null,this.isEnumType=!1,this._isGenericType=void 0,this._staticFields=null,this.isNullable=!1,this._$nullNullable=null,this.enumInfo=null,this.specializationCache={},this._staticInitializer=a,this._fullName=r,this.name=r,this.InstanceConstructor=s;var u=this.name.lastIndexOf(".");u>=0&&(this.name=this.name.substr(u+1)),this.typeArguments=null,this.baseType=null,this.interfaces=null,n&&(this.baseType=n),l&&(this.interfaces=l),t[r]?this.identifier=t[r]:(this.identifier=e++,t[r]=this.identifier)}get typeName(){return this.name}get fullName(){return this._fullName}getSpecId(t){if(1===t.length)return t[0]?-1===t[0]?void 0:t[0].typeName?t[0].stringId?t[0].stringId:t[0].identifier.toString():t[0].toString():"undef";for(var e="",i=0;i<t.length;i++){var s=t[i];if(s){if(-1==s)return;s.typeName?s.stringId?e+=s.stringId:e+=s.identifier.toString():e+=s.toString()}else e+="undef"}return e}get isGenericType(){return void 0===this._isGenericType&&(this._isGenericType=this.name.indexOf("$")>=0),this._isGenericType}get isGenericTypeDefinition(){return null===this.typeArguments&&this.isGenericType}get genericTypeArguments(){return this.typeArguments}getStaticFields(t){void 0===t&&(t=this);for(var e=this;null!=e;){if(e===t||e._fullName==t._fullName)return null==e._staticFields&&e._staticInitializer&&(e._staticFields={},e._staticInitializer.apply(e._staticFields,e.typeArguments)),e._staticFields;e=e.baseType}return null}initSelfReferences(t){var e,i;if(t){if(this.typeArguments){var r=!1;for(i=0;i<this.typeArguments.length;i++){var n=this.typeArguments[i];-1==n?(r=!0,this.typeArguments[i]=t):n&&n instanceof s&&n.initSelfReferences&&n.initSelfReferences(t)}if(r){var l=this.getSpecId(this.typeArguments);this.specializationCache[l]||(this.specializationCache[l]=this)}}}else if(this.baseType&&this.baseType.initSelfReferences(this),this.interfaces)for(e=0;e<this.interfaces.length;e++)this.interfaces[e].initSelfReferences(this);return this}specialize(...t){var e;if(!this.isGenericType)return this;var i=this.getSpecId(Array.from(arguments)),r=this.specializationCache[i];if(r)return r;(r=new s(this.InstanceConstructor,this._fullName,this.baseType,this.interfaces,this._staticInitializer)).specializationCache=this.specializationCache;var n=this.typeArguments,l=!1;if(n&&n.length&&(l=!0),r.typeArguments=[],l)for(e=0;e<n.length;e++)"number"==typeof n[e]&&isFinite(n[e])&&!isFinite(arguments[n[e]])?r.typeArguments[e]=arguments[n[e]]:r.typeArguments[e]=n[e];else for(e=0;e<arguments.length;e++)r.typeArguments[e]=arguments[e];if(this.baseType&&this.baseType.typeArguments&&(r.baseType=this.specialize.apply(this.baseType,r.typeArguments)),this.interfaces)for(r.interfaces=[],e=0;e<this.interfaces.length;e++)r.interfaces[e]=this.specialize.apply(this.interfaces[e],r.typeArguments);if("Nullable$1"==this._fullName&&1==r.typeArguments.length&&(r.isNullable=!0),i&&(this.specializationCache[i]=r,r.stringId=r.generateString()),null!=this.InstanceConstructor){var a=this;r.InstanceConstructor=function(){return a.InstanceConstructor.apply(this,r.typeArguments.concat(Array.prototype.slice.call(arguments,0))),this},r.InstanceConstructor.prototype=this.InstanceConstructor.prototype}return r}equals(t){if(!(t instanceof s))return!1;if(this.identifier!==t.identifier)return!1;if(null===this.typeArguments&&null===t.typeArguments)return!0;if(null===this.typeArguments&&null!==t.typeArguments)return!1;if(null!==this.typeArguments&&null===t.typeArguments)return!1;if(this.typeArguments.length!==t.typeArguments.length)return!1;for(var e=0;e<this.typeArguments.length;e++)if(!s.checkEquals(this.typeArguments[e],t.typeArguments[e]))return!1;return!0}static checkEquals(t,e){return t instanceof s?t.equals(e):e instanceof s?e.equals(t):t===e}static op_Equality(t,e){return t.equals(e)}static op_Inequality(t,e){return!t.equals(e)}generateString(){if(this.typeArguments&&this.typeArguments.length){for(var t=this.identifier.toString()+"[",e=!0,i=0;i<this.typeArguments.length;i++)null!=this.typeArguments[i]&&(e?e=!1:t+=",",this.typeArguments[i].toString?t+=this.typeArguments[i].toString():t+=this.typeArguments[i].identifier.toString());return t+"]"}return this.identifier.toString()}get isValueType(){return this.baseType===d.prototype.$type}isAssignableFrom(t){if(this===t)return!0;if(t.baseType&&this.isAssignableFrom(t.baseType))return!0;if(t.interfaces)for(var e=0;e<t.interfaces.length;e++)if(this.isAssignableFrom(t.interfaces[e]))return!0;return!1}isInstanceOfType(t){return null!==n(this,t)}get isPrimitive(){return this===L||this===O}static canAssign(t,e){return"Nullable$1"===t.name&&"Nullable$1"!==e.name&&(t=y.getUnderlyingType(t)),s.canAssignSimple(t,e)}static canAssignSimple(t,e){if(t===e||s.checkEquals(t,e))return!0;if(e.interfaces)for(var i=0;i<e.interfaces.length;i++)if(s.canAssignSimple(t,e.interfaces[i]))return!0;return!!e.baseType&&s.canAssignSimple(t,e.baseType)}static createInstance(t){if(t===Number||t==L||t.isEnumType)return 0;if(t==Boolean||t==O)return!1;if(t.InstanceConstructor)return new(0,t.InstanceConstructor)(...Array.prototype.slice.call(arguments,1));throw new Error("Cannot find instance constructor for the type parameter")}static getDefaultValue(t){return t===L||t.isEnumType?0:t!=O&&(t.baseType===d.$type?s.createInstance(t):null)}static getPrimitiveHashCode(t){var e=typeof t;if("string"===e||t instanceof String){var i,s,r=0;if(0===t.length)return r;for(i=0,s=t.length;i<s;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return r}return"boolean"===e||t instanceof Boolean?+t:t}static decodePropType(t){return 0===t?O:1===t?L:2===t?E:3===t?k:t}}function r(t){return null!==t&&t.$type&&t.$type.isEnumType?t.value:t}function n(t,e){if(null==e)return null;if(t===Array)return e instanceof Array?e:null;t===String&&(t=E),t===Number&&(t=L),t===Boolean&&(t=O),t===Date&&(t=k);var i=e;return e.$type?i=e.$type:"number"==typeof e?i=t===Number?Number:L:"string"==typeof e?i=E:"boolean"==typeof e?i=O:e instanceof Date?i=k:e instanceof Array&&(i=K),s.canAssignSimple(t,i)?e:"Nullable$1"===t.name&&"Nullable$1"!==i.name?(t=y.getUnderlyingType(t),s.canAssignSimple(t,i)?_(t,e):_(t,null)):null}function l(t,e){var i=!1;return t.isNullable&&(t=t.typeArguments[0],i=!0),null!==e&&t.isEnumType&&(e=e.value),i?_(t,e):e}let a=new Array,u=!1;function h(t,e,r=i.prototype.$type,n=null,l=null){return t.prototype.$type=new s(t,e,r,n,l),u||(u=!0,h(s,"Type"),h(i,"Base",null)),"function"==typeof t.staticInit&&a.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}let o=new s(null,"IConvertible");class m extends i{}m.$t=h(m,"Enum");class g extends m{constructor(t,e){super(),this.value=t,this.$type=e}getHashCode(){return this.value}toDouble(t){return this.value}toString(){return f.getName(this.$type,this.value)}}function c(t,e){return null!==e&&t&&(t.isNullable&&(t=t.typeArguments[0]),t.isEnumType)?p(t,e):e}function p(t,e){return t._boxes||(t._boxes={}),t._boxes[e]||(t._boxes[e]=new g(e,t)),t._boxes[e]}class f{static getValueFromName(t,e,i,s){if(t.hasOwnProperty(i))return p(e,t[i]);if(s){var r=i.toUpperCase();for(var n in t)if(n.toUpperCase()===r)return p(e,t[n])}else{var l=i.charAt(0);if(i="_"!=l?l.toLowerCase()+i.substr(1):"_"+i.charAt(1).toLowerCase()+i.substr(2),t.hasOwnProperty(i))return p(e,t[i])}return null}static parse(t,e,i){{var s=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;let r=f.getValueFromName(s,t,e,i);if(null!==r)return r;if(t.isEnumType){s=t.enumInfo.namesValuesMap;let r=f.getValueFromName(s,t,e,i);if(null!==r)return r}}throw new Error("Invalid "+t.name+" value: "+e)}static enumHasFlag(t,e){return(t&e)===e}static toString(t,e){return f.getName(t,e)}static getName(t,e){if(null==t._nameMap){let e=f.getValues(t),i=t.isEnumType?t.enumInfo.names:f.getNames(t),s={};for(let t=0;t<e.length;t++)s[e[t]]=i[t];t._nameMap=s}return t._nameMap[e]}static getFlaggedName(t,e,i){var s,r,n=[],l=e,a=[];for(var u in this)this.hasOwnProperty(u)&&(r=t[u],"number"==typeof t[u]&&a.push(u));a.sort(((t,e)=>this[t]-this[e]));for(var h=a.length-1;h>=0;h--)0===(r=this[a[h]])?s=i(0):(e&r)===r&&(e-=r,n.unshift(i(r)));return 0!==e?l.toString():0!==l?n.join(", "):s||"0"}static getValues(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNamesValuesMap[t.enumInfo.actualNames[i]]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(i[s]);return e}static getNames(t){var e=[];if(t.isEnumType){for(let i=0;i<t.enumInfo.actualNames.length;i++)e.push(t.enumInfo.actualNames[i]);return e}var i=t.isEnumType?t.enumInfo.actualNames:t.InstanceConstructor.prototype;for(var s in i)i.hasOwnProperty(s)&&"number"==typeof i[s]&&e.push(s);return e}static getEnumValue(t,e){return null!==e?"number"==typeof e?e:e.value:0}static isDefined(t,e){e=r(e);var i=t.isEnumType?t.enumInfo.actualNamesValuesMap:t.InstanceConstructor.prototype;for(var s in i)if(i.hasOwnProperty(s)&&i[s]===e)return!0;return!1}static toDouble(t,e,i){return e.value}static toObject(t,e){return e}static tryParse$1(t,e,i,n){try{return{ret:!0,p2:r(f.parse(t,e,i))}}catch(e){return{ret:!1,p2:s.createInstance(t)}}}}class d extends i{}d.$t=h(d,"ValueType");class y extends i{static getUnderlyingType(t){return void 0!==t.isGenericType&&t.isGenericType&&!t.isGenericTypeDefinition&&b.prototype.$type.typeName==t.typeName?t.genericTypeArguments[0]:null}}y.$t=h(y,"Nullable");class b extends i{constructor(t,e){super(),this.$t=null,this._value=null,this.isNullable=!0,this.$t=t,this.$type=this.$type.specialize(this.$t),void 0!==e&&(this._value=e)}static nullableEquals(t,e){var i=null==t||!!t.isNullable&&!t.hasValue,s=null==e||!!e.isNullable&&!e.hasValue;if(i&&s)return!0;if(i!=s)return!1;var r=t,n=e;return t.isNullable&&(r=t.value),e.isNullable&&(n=e.value),r==n}equals(t){return b.nullableEquals(this,t)}getHashCode(){return null===this._value?0:void 0!==this._value.getHashCode?this._value.getHashCode():s.getPrimitiveHashCode(this._value)}get hasValue(){return null!==this._value}toString(){return null===this._value?"":this._value.toString()}get value(){return this._value}set value(t){this._value=t}getValueOrDefault(){return this.hasValue?this._value:this.getDefaultValue()}getDefaultValue(){return s.canAssign(L,this.$t)?0:!s.canAssign(O,this.$t)&&(this.$t.baseType==d.prototype.$type?s.createInstance(this.$t):null)}getValueOrDefault1(t){return this.hasValue?this._value:t}preIncrement(){return this.hasValue?(this._value=this._value+1,this):this}preDecrement(){return this.hasValue?(this._value=this._value-1,this):this}postIncrement(){if(!this.hasValue)return this;var t=this._value;return this._value=this._value+1,new b(this.$t,t)}postDecrement(){if(!this.hasValue)return this;var t=this._value;return this._value=this._value-1,new b(this.$t,t)}}function _(t,e){return null==e?t._$nullNullable||(t._$nullNullable=new b(t,null)):e.isNullable?e:new b(t,e)}b.$t=h(b,"Nullable$1");let w=new s(null,"IComparable"),x=new s(null,"IComparable$1");new s(null,"IEquatable$1"),new s(null,"INotifyPropertyChanged");class V extends i{constructor(t){super(),this._propertyName=null,this._propertyName=t}get propertyName(){return this._propertyName}set propertyName(t){this._propertyName=t}}V.$t=h(V,"PropertyChangedEventArgs");class C{constructor(t,e){this._inner=null,this._getNew=null,this._hasNext=!0,this._current=null,this._inner=t,this._getNew=e}moveNext(){let t=this._inner.next();return this._hasNext=!t.done,this._current=t.value,this._hasNext}get current(){return this._current}get currentObject(){return this._current}dispose(){}reset(){this._inner=this._getNew(),this._current=null,this._hasNext=!0}}class I{constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.current),{done:t,value:e}}}class v{constructor(t){this._inner=null,this._inner=t}next(){let t=!this._inner.moveNext(),e=null;return t||(e=this._inner.currentObject),{done:t,value:e}}}function*$(t){for(let e of t)yield e}function M(t){if(t instanceof Array||Array.isArray(t)){let e=t;return new C($(e),(()=>$(e)))}return t.getEnumeratorObject()}function N(t){if(t instanceof Array||Array.isArray(t)){let e=t;return new C($(e),(()=>$(e)))}return t.getEnumerator()}class A{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new I(N(this._inner))}}class T{constructor(t){this._inner=null,this._inner=t}[Symbol.iterator](){return new v(M(this._inner))}}function S(t){return new A(t)}let L=new s(Number,"Number",i.prototype.$type,[w,o]),E=new s(String,"String",i.prototype.$type,[w,o]),k=new s(Date,"Date",i.prototype.$type,[w,o]),O=new s(Boolean,"Boolean",i.prototype.$type,[w,o]);new s(null,"Void",i.prototype.$type),new s(null,"Delegate");let q=new s(null,"IDisposable"),z=new s(null,"IEnumerable"),R=new s(null,"IEnumerator"),F=(new s(null,"IEqualityComparer$1"),new s(null,"IEqualityComparer"),new s(null,"ICollection",null,[z])),B=new s(null,"IList",null,[z,F]),D=new s(null,"IEnumerable$1",null,[z]),j=new s(null,"ICollection$1",null,[D.specialize(0),z]),P=new s(null,"IList$1",null,[j.specialize(0),D.specialize(0),z]);new s(null,"IEnumerator$1",null,[R,q]),new s(null,"IDictionary");class G extends i{constructor(t=-1,...e){if(super(),this._message=null,this._innerException=null,t>=0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}get_message(){return this._message}get message(){return this.get_message()}get innerException(){return this._innerException}init1(t,e){this._message=e}init2(t,e,i){this._message=e,this._innerException=i}toString(){return this._message}}G.$t=h(G,"BaseError");class H extends G{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}H.$t=h(H,"SystemException",G.prototype.$type);class Y extends H{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}Y.$t=h(Y,"NotSupportedException",H.prototype.$type);class Z extends H{constructor(t,...e){if(super(0),t>0)switch(t){case 1:this.init1.apply(this,arguments);break;case 2:this.init2.apply(this,arguments)}}init1(t,e){super.init1(1,e)}init2(t,e,i){super.init2(2,e,i)}}var W;Z.$t=h(Z,"FormatException",H.prototype.$type),new s(null,"Point"),function(t){t[t.Begin=0]="Begin",t[t.Current=1]="Current",t[t.End=2]="End"}(W||(W={}));class U extends i{close(){this.disposeCore(!0)}dispose(){this.close()}disposeCore(t){}readByte(){var t=[0];return 0===this.read(t,0,1)?-1:t[0]}writeByte(t){this.write([t],0,1)}}U.$t=h(U,"Stream");class J extends i{static get empty(){return J._empty||(J._empty=new J),J._empty}}J.$t=h(J,"EventArgs"),new s(null,"IFormatProvider");let K=new s(Array,"Array",i.prototype.$type,[z,F]);class Q{static create(t,...e){if(Q.isRegistered(t)){let i=Q.get(t);return i.htmlTagName?document.createElement(i.htmlTagName):new i(...e)}return null}static register(t,e){Q._registrar.set(t,e.InstanceConstructor)}static registerCons(t,e){Q._registrar.set(t,e)}static callRegister(t){let e=Q.get(t);null!=e&&void 0!==e.register&&e.register()}static isRegistered(t){return null!==Q.get(t)}static get(t){if(Q._registrar.has(t))return Q._registrar.get(t);if(0==t.indexOf("Igx")){let e=t.replace("Igx","Igc");if(Q._registrar.has(e))return Q._registrar.get(e);let i=t.replace("Igx","Igr");if(i.indexOf("Component")==i.length-9&&(i=i.substring(0,i.length-9)),Q._registrar.has(i))return Q._registrar.get(i)}return null}static createFromInternal(t,e,i){if(!t)return null;if(!t.$type)return null;let s=e+t.$type.name+i;return Q.isRegistered(s)?Q.create(s):null}}Q._registrar=new Map;class X extends G{constructor(t,...e){switch(t=null==t?0:t){case 0:super(0);break;case 1:super(1,e[0]);break;case 2:{let t=e[0];e[1],super(1,t)}break;case 3:super(2,e[0],e[1])}}}function tt(t,e){return et(t/e)}function et(t){return t>=0?Math.floor(t):Math.ceil(t)}function it(t,e){return Math.log(t)/Math.log(e)}function st(t){return t!=t}X.$t=h(X,"ArgumentException",G.$);const rt={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};class nt extends d{constructor(){super(),this._a=0,this._r=0,this._g=0,this._b=0,this._colorString=null,this.a=!1}get l(){return this._a}set l(t){this._a=et(Math.round(t)),this.a=!0}get o(){return this._r}set o(t){this._r=et(Math.round(t)),this.a=!0}get n(){return this._g}set n(t){this._g=et(Math.round(t)),this.a=!0}get m(){return this._b}set m(t){this._b=et(Math.round(t)),this.a=!0}get colorString(){return(this.a||null==this._colorString)&&(this.a=!1,this.s()),this._colorString}set colorString(t){this._colorString=t,this.r()}static create(t){if(null!==n(nt.$,t))return t;let e=new nt;if("string"==typeof t)e.colorString=t;else if(null!=t)throw new X(1,"Unknown color type");return e}s(){this._colorString="rgba("+this._r+","+this._g+","+this._b+","+this._a/255+")"}r(){if(null==this.colorString)return void(this.l=this.o=this.n=this.m=0);let t=(s={a:255,r:0,g:0,b:0},"transparent"===(r=(e=this._colorString).replace(" ","").toLowerCase())?{a:0,r:0,g:0,b:0}:(void 0!==rt[r]&&(e=rt[r]),0===e.lastIndexOf("rgba",0)?(i=(e=e.replace("rgba","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10),s.a=255*parseFloat(i[3])):0===e.lastIndexOf("rgb",0)?(i=(e=e.replace("rgb","").replace(" ","").replace("(","").replace(")","")).split(","),s.r=parseInt(i[0],10),s.g=parseInt(i[1],10),s.b=parseInt(i[2],10)):8===(e=e.replace("#","").replace(" ","")).length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16),s.a=parseInt(e.substr(6,2),16)):6===e.length?(s.r=parseInt(e.substr(0,2),16),s.g=parseInt(e.substr(2,2),16),s.b=parseInt(e.substr(4,2),16)):3===e.length&&(s.r=parseInt(e.substr(0,1)+e.substr(0,1),16),s.g=parseInt(e.substr(1,1)+e.substr(1,1),16),s.b=parseInt(e.substr(2,1)+e.substr(2,1),16)),s));var e,i,s,r;this._a=void 0!==t.a?Math.round(t.a):0,this._r=void 0!==t.r?Math.round(t.r):0,this._g=void 0!==t.g?Math.round(t.g):0,this._b=void 0!==t.b?Math.round(t.b):0,function(t,e){return 0==t.indexOf("#")}(this._colorString)&&9==this._colorString.length&&this.s()}static u(t,e,i,s){let r=new nt;return r._a=0|t,r._r=0|e,r._g=0|i,r._b=0|s,r.a=!0,r}equals(t){if(null!==n(nt.$,t)==0)return!1;let e=t;return this._a==e._a&&this._r==e._r&&this._g==e._g&&this._b==e._b}getHashCode(){return this._a<<24|this._r<<16|this._g<<8|this._b}static d(t,e){return!nt.b(t,e)}static e(t,e){return t.hasValue?!e.hasValue||nt.d(t.value,e.value):e.hasValue}static b(t,e){return t._a==e._a&&t._r==e._r&&t._g==e._g&&t._b==e._b}static c(t,e){return t.hasValue?!!e.hasValue&&nt.b(t.value,e.value):!e.hasValue}}nt.$t=function(t,e,i=d.prototype.$type,r=null,n=null){return t.prototype.$type=new s(t,e,i,r,n),"function"==typeof t.staticInit&&a.push(t),t.$type=t.prototype.$type,t.$=t.prototype.$type,t.prototype.$type}(nt,"Color");class lt extends i{constructor(){super(...arguments),this._scaler=null,this._blurRadius=0,this._maxBlurRadius=0,this._useBlurRadiusAdjustedForZoom=!1,this._minimumColor=new nt,this._maximumColor=new nt,this._tileViewport=null,this._yValues=null,this._xValues=null,this._values=null,this._isNewData=!1,this._minimumVisibleLatitude=0,this._maximumVisibleLatitude=0,this._minimumVisibleLongitude=0,this._maximumVisibleLongitude=0,this._z=0,this._x=0,this._y=0,this._window=null,this._testRun=!1,this._globalMinimum=0,this._globalMaximum=0,this._useGlobalMinMax=!1,this._minimumValue=0,this._maximumValue=0,this._scaleColors=null,this._scaleColorOffsets=null,this._useLogarithmicScale=!1,this._logarithmBase=0,this._image=null}get scaler(){return this._scaler}set scaler(t){this._scaler=t}get blurRadius(){return this._blurRadius}set blurRadius(t){this._blurRadius=t}get maxBlurRadius(){return this._maxBlurRadius}set maxBlurRadius(t){this._maxBlurRadius=t}get useBlurRadiusAdjustedForZoom(){return this._useBlurRadiusAdjustedForZoom}set useBlurRadiusAdjustedForZoom(t){this._useBlurRadiusAdjustedForZoom=t}get minimumColor(){return this._minimumColor}set minimumColor(t){this._minimumColor=t}get maximumColor(){return this._maximumColor}set maximumColor(t){this._maximumColor=t}get tileViewport(){return this._tileViewport}set tileViewport(t){this._tileViewport=t}get yValues(){return this._yValues}set yValues(t){this._yValues=t}get xValues(){return this._xValues}set xValues(t){this._xValues=t}get values(){return this._values}set values(t){this._values=t}get isNewData(){return this._isNewData}set isNewData(t){this._isNewData=t}get minimumVisibleLatitude(){return this._minimumVisibleLatitude}set minimumVisibleLatitude(t){this._minimumVisibleLatitude=t}get maximumVisibleLatitude(){return this._maximumVisibleLatitude}set maximumVisibleLatitude(t){this._maximumVisibleLatitude=t}get minimumVisibleLongitude(){return this._minimumVisibleLongitude}set minimumVisibleLongitude(t){this._minimumVisibleLongitude=t}get maximumVisibleLongitude(){return this._maximumVisibleLongitude}set maximumVisibleLongitude(t){this._maximumVisibleLongitude=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get window(){return this._window}set window(t){this._window=t}get testRun(){return this._testRun}set testRun(t){this._testRun=t}get globalMinimum(){return this._globalMinimum}set globalMinimum(t){this._globalMinimum=t}get globalMaximum(){return this._globalMaximum}set globalMaximum(t){this._globalMaximum=t}get useGlobalMinMax(){return this._useGlobalMinMax}set useGlobalMinMax(t){this._useGlobalMinMax=t}get minimumValue(){return this._minimumValue}set minimumValue(t){this._minimumValue=t}get maximumValue(){return this._maximumValue}set maximumValue(t){this._maximumValue=t}get scaleColors(){return this._scaleColors}set scaleColors(t){this._scaleColors=t}get scaleColorOffsets(){return this._scaleColorOffsets}set scaleColorOffsets(t){this._scaleColorOffsets=t}get useLogarithmicScale(){return this._useLogarithmicScale}set useLogarithmicScale(t){this._useLogarithmicScale=t}get logarithmBase(){return this._logarithmBase}set logarithmBase(t){this._logarithmBase=t}get image(){return this._image}set image(t){this._image=t}flatten(){let t=this.minimumColor.l,e=this.minimumColor.o,i=this.minimumColor.n,s=this.minimumColor.m,r=this.maximumColor.l,n=this.maximumColor.o,l=this.maximumColor.n,a=this.maximumColor.m,u=null;if(null!=this.scaleColors){u=new Array(this.scaleColors.length);for(let t=0;t<this.scaleColors.length;t++){let e={a:this.scaleColors[t].l,r:this.scaleColors[t].o,g:this.scaleColors[t].n,b:this.scaleColors[t].m};u[t]=e}}return{blurRadius:this.blurRadius,maxBlurRadius:this.maxBlurRadius,useBlurRadiusAdjustedForZoom:this.useBlurRadiusAdjustedForZoom,minimumColor:{a:t,r:e,g:i,b:s},maximumColor:{a:r,r:n,g:l,b:a},tileViewport:{left:this.tileViewport.left,top:this.tileViewport.top,width:this.tileViewport.width,height:this.tileViewport.height},yValues:this.yValues,xValues:this.xValues,values:this.values,isNewData:this.isNewData,minimumVisibleLatitude:this.minimumVisibleLatitude,minimumVisibleLongitude:this.minimumVisibleLongitude,maximumVisibleLatitude:this.maximumVisibleLatitude,maximumVisibleLongitude:this.maximumVisibleLongitude,z:this.z,x:this.x,y:this.y,window:{left:this.window.left,top:this.window.top,width:this.window.width,height:this.window.height},testRun:this.testRun,globalMinimum:this.globalMinimum,globalMaximum:this.globalMaximum,useGlobalMinMax:this.useGlobalMinMax,minimumValue:this.minimumValue,maximumValue:this.maximumValue,scaleColorOffsets:this.scaleColorOffsets,scaleColors:u,useLogarithmicScale:this.useLogarithmicScale,logarithmBase:this.logarithmBase}}}lt.$t=h(lt,"TileWorkSettings");let at=new s(null,"IArray"),ut=new s(null,"IArrayList"),ht=new s(null,"IComparer"),ot=new s(null,"IComparer$1");class mt{static compareToObject(t,e){return t.compareToObject?t.compareToObject(e):i.compare(t,e)}static compareTo(t,e){return t.compareTo?t.compareTo(e):i.compare(t,e)}}class gt extends i{constructor(t){super(),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}static defaultComparerValue(t){return new ct(t)}static a(t,e){return null}compareObject(t,e){return this.compare(l(this.$t,t),l(this.$t,e))}}gt.$t=h(gt,"Comparer$1",i.$,[ht,ot.specialize(0)]);class ct extends gt{constructor(t){super(t),this.$t=null,this.$t=t,this.$type=this.$type.specialize(this.$t)}compare(t,e){let s=n(x.specialize(this.$t),t);if(null!=s)return mt.compareTo(s,e);let r=n(x.specialize(this.$t),e);return null!=r?-mt.compareTo(r,t):i.compare(t,e)}}ct.$t=h(ct,"DefaultComparer$1",gt.$.specialize(0));class pt extends i{constructor(t,e,...i){switch(super(),this.$t=null,this.a=null,this.c={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:break;case 1:{let t=i[0];this.a=t}}}item(t,e){return 2===arguments.length?(this.a.item(t,e),e):this.a.item(t)}indexOf(t){return this.a.indexOf(t)}insert(t,e){}removeAt(t){}get count(){return this.a.count}get isReadOnly(){return!0}add(t){}clear(){}contains(t){return this.a.contains(t)}copyTo(t,e){this.a.copyTo(t,e)}remove(t){return!1}getEnumerator(){return N(this.a)}getEnumeratorObject(){return N(this.a)}get isFixedSize(){return!0}add1(t){return-1}contains1(t){return this.a.contains(l(this.$t,t))}indexOf1(t){return this.a.indexOf(l(this.$t,t))}insert1(t,e){}remove1(t){}copyTo1(t,e){this.a.copyTo(t,e)}get b(){return this.a}get isSynchronized(){return!0}get syncRoot(){return this.c}}pt.$t=h(pt,"ReadOnlyCollection$1",i.$,[P.specialize(0),B]);class ft extends G{constructor(t,...e){switch(t=null==t?0:t){case 0:super(1,"not implemented");break;case 1:throw super(1,e[0]),new ft(0)}}}ft.$t=h(ft,"NotImplementedException",G.$);class dt extends i{constructor(t,e,...s){switch(super(),this.$t=null,this._inner=null,this.c=!1,this.h=0,this.m={},this.$t=t,this.$type=this.$type.specialize(this.$t),e=null==e?0:e){case 0:this._inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===i.prototype.equals;break;case 1:{let t=s[0];if(this._inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===i.prototype.equals,this.d(0,t,!0))return;for(let e of S(t))this.add(e)}break;case 2:s[0],this._inner=[],this.c=this.$t.InstanceConstructor&&this.$t.InstanceConstructor.prototype.equals===i.prototype.equals}}x(t,e){this._inner[t]=e}r(t,e){this._inner.splice(t,0,e)}n(t){this._inner.push(t)}u(t){0!=t?this._inner.splice(t,1):this._inner.shift()}p(){this._inner=[]}item(t,e){return 2===arguments.length?(this.x(t,e),e):this._inner[t]}indexOf(t){if(this.c)return this._inner.indexOf(t);for(let e=0;e<this._inner.length;e++)if(i.equalsStatic(c(this.$t,t),c(this.$t,this._inner[e])))return e;return-1}indexOf2(t,e){if(this.c)return this._inner.indexOf(t,e);for(;e<this._inner.length;e++)if(i.equalsStatic(c(this.$t,t),c(this.$t,this._inner[e])))return e;return-1}k(t){if(this.c)return this._inner.lastIndexOf(t);for(let e=this._inner.length-1;e>=0;e--)if(i.equalsStatic(c(this.$t,t),c(this.$t,this._inner[e])))return e;return-1}insert(t,e){this.r(t,e)}removeAt(t){this.u(t)}get count(){return this._inner.length}get isReadOnly(){return!1}add(t){this.n(t)}clear(){this.p()}contains(t){return this.indexOf(t)>=0}copyTo(t,e){for(let i=0;i<this._inner.length;i++)t[e+i]=this._inner[i]}remove(t){let e=this.indexOf(t);return!(e<0||(this.u(e),0))}getEnumerator(){return M(this._inner)}getEnumeratorObject(){return M(this._inner)}asArray(){return this._inner}d(t,e,i){let s=n(ut,e);if(null!=s){let e=s.asArrayList();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let r=n(at,e);if(null!=r){let e=r.asArray();return Array.prototype.splice.apply(this._inner,Array.prototype.concat.apply([t,0],e)),!0}let a=n(P.specialize(this.$t),e);if(null!=a){for(let e=0;e<a.count;e++){let i=a.item(e);this._inner.splice(t+e,0,i)}return!0}let u=Array.isArray(e)?e:null;if(null!=u){let e=this._inner;if(0==this._inner.length)if(i){let i=u,s=u.length;for(let r=0;r<s;r++)e[t++]=i[r]}else{let i=u.length;for(let s=0;s<i;s++)e[t++]=l(this.$t,u[s])}else for(let i=0;i<u.length;i++)e.splice(t++,0,u[i]);return!0}return!1}t(t,e){if(this.d(t,e,!1))return;let i=t;for(let t of new T(e))this._inner.splice(i,0,t),i++}s(t,e){if(this.d(t,e,!0))return;let i=t;for(let t of S(e))this._inner.splice(i,0,t),i++}v(t,e){0!=t||1!=e?this._inner.splice(t,e):this._inner.shift()}copyTo1(t,e){!function(t,e,i){for(var s=0;s<t.length;s++)e[i++]=t[s]}(this._inner,t,e)}get isFixedSize(){return!1}add1(t){return this.n(l(this.$t,t)),this._inner.length-1}contains1(t){return this.indexOf1(t)>=0}indexOf1(t){return this.indexOf(l(this.$t,t))}insert1(t,e){this.r(t,l(this.$t,e))}remove1(t){let e=this.indexOf1(t);e<0||this.u(e)}y(){let t=null;t=this.$t==L||this.$t==L?(t,e)=>t<e?-1:t==e?0:1:this.$t==L?(t,e)=>{let i=r(t),s=r(e);return i<s?-1:i==s?0:1}:this.$t==k?(t,e)=>{let i=t,s=e;return i.getTime()<s.getTime()?-1:i.getTime()==s.getTime()?0:1}:(t,e)=>{return(i=t)==(s=e)?0:i<s?-1:1;var i,s},this.ab(t)}ab(t){this._inner.sort(t)}aa(t){this._inner.sort(t)}o(t){for(let e of S(t))this._inner.push(e)}toArray(){return this._inner}q(t){for(let e=0;e<this._inner.length;e++)t(this._inner[e])}get isSynchronized(){return!0}get syncRoot(){return this.m}f(t){return this.g(t,gt.defaultComparerValue(this.$t))}g(t,e){let i=0,s=this.count-1;for(;i<=s;){let r=i+tt(s-i,2),n=this._inner[r],l=e.compare(n,t);if(0==l)return r;l<0?i=r+1:s=r-1}return~i}e(){return new pt(this.$t,1,this)}w(){for(let t=0;t<tt(this.count,2);t++){let e=this.count-t-1,i=this._inner[t];this._inner[t]=this._inner[e],this._inner[e]=i}}z(t){this.aa(function(t,e){var i=e,s=function(){return i.apply(t,arguments)};return s.original=i,s.target=t,s}(t,t.compare))}i(t){for(let e=0;e<this._inner.length;e++)if(t(this._inner[e]))return e;return-1}l(t){throw new ft(0)}}dt.$t=h(dt,"List$1",i.$,[P.specialize(0),at,B]);class yt extends J{constructor(){super(...arguments),this._imageData=null,this._image=null,this._z=0,this._x=0,this._y=0,this._url=null}get imageData(){return this._imageData}set imageData(t){this._imageData=t}get image(){return this._image}set image(t){this._image=t}get z(){return this._z}set z(t){this._z=t}get x(){return this._x}set x(t){this._x=t}get y(){return this._y}set y(t){this._y=t}get url(){return this._url}set url(t){this._url=t}}yt.$t=h(yt,"TileImageCreatedEventArgs",J.$);class bt extends yt{constructor(){super(...arguments),this._globalMinimumValue=0,this._globalMaximumValue=0,this._globalMaximumValueLongitude=0,this._globalMaximumValueLatitude=0,this._globalMinimumValueLongitude=0,this._globalMinimumValueLatitude=0}get globalMinimumValue(){return this._globalMinimumValue}set globalMinimumValue(t){this._globalMinimumValue=t}get globalMaximumValue(){return this._globalMaximumValue}set globalMaximumValue(t){this._globalMaximumValue=t}get globalMaximumValueLongitude(){return this._globalMaximumValueLongitude}set globalMaximumValueLongitude(t){this._globalMaximumValueLongitude=t}get globalMaximumValueLatitude(){return this._globalMaximumValueLatitude}set globalMaximumValueLatitude(t){this._globalMaximumValueLatitude=t}get globalMinimumValueLongitude(){return this._globalMinimumValueLongitude}set globalMinimumValueLongitude(t){this._globalMinimumValueLongitude=t}get globalMinimumValueLatitude(){return this._globalMinimumValueLatitude}set globalMinimumValueLatitude(t){this._globalMinimumValueLatitude=t}}bt.$t=h(bt,"HeatTileImageCreatedEventArgs",yt.$);class _t extends i{constructor(t){super(),this.f=null,this.a=null,this.n=0,this.o=0,this.p=0,this.w=null,this.u=0,this.h=!1,this.r=0,this.i=0,this.j=0,this.k=0,this.l=0,this._completedSink=null,this.f=t,_t.s++,0x8000000000000000==_t.s&&(_t.s=0),this.r=_t.s}get t(){return this.r}get g(){return this.f}doWork(){let t=this.g.blurRadius,e=t,i=this.g.maxBlurRadius,s=this.g.scaler;this.n=this.g.x,this.o=this.g.y,this.p=this.g.z,this.g.useBlurRadiusAdjustedForZoom&&this.p>0&&(e=t*(Math.sqrt(2)*Math.pow(2,this.p-1))),st(i)||e>i&&(e=i);let r,n,l,a,u,h,o,m,g,c=this.g.xValues,p=this.g.yValues,f=this.g.values,d=this.g.xValues.length,y=(this.g.yValues.length,this.g.minimumVisibleLongitude),b=this.g.maximumVisibleLongitude,_=this.g.minimumVisibleLatitude,w=this.g.maximumVisibleLatitude,x=this.q(this.g.tileViewport,e),V=this.c(x,e),C=Math.abs(s.t(0,this.g.window,this.g.tileViewport)-s.t(e,this.g.window,this.g.tileViewport)),I=Math.abs(s.u(0,this.g.window,this.g.tileViewport)-s.u(e,this.g.window,this.g.tileViewport)),v=new dt(L,0),$=new dt(L,0),M=new dt(L,0);for(let t=0;t<d;t++)r=c[t],n=p[t],l=f[t],a=r-I,u=r+I,h=n-C,o=n+C,u<y||o<_||h>w||a>b||(v.add(r),$.add(n),M.add(l));let N,A,T,S,E=this.d(this.g.tileViewport),k=this.b(this.g.tileViewport),O=et(this.g.tileViewport.width),q=$.count;s.v($,this.g.window,this.g.tileViewport),s.w(v,this.g.window,this.g.tileViewport);for(let t=0;t<q;t++){m=et(Math.floor(v._inner[t]-e)),g=et(Math.floor($._inner[t]-e));for(let e=m;e<m+x;e++)for(let i=g;i<g+x;i++)N=e-m,A=i-g,e<0||e>O-1||i<0||i>O-1||(T=V[A*x+N],S=M._inner[t]*T,k[i*O+e]=k[i*O+e]+S)}let z,R=k.length,F=-17976931348623157e292,B=17976931348623157e292;if(st(this.g.globalMinimum)||st(this.g.globalMaximum)||!this.g.useGlobalMinMax||this.g.testRun)if(st(this.g.minimumValue)||st(this.g.maximumValue)){let t=-1,i=-1;for(let e=0;e<R;e++)z=k[e],z>0&&(z>F&&(F=z,t=e),z<B&&(B=z,i=e));let r=et(Math.floor(t/O)),n=t%O,l=et(Math.floor(i/O)),a=i%O;this.g.globalMinimum=B,this.g.globalMaximum=F;let u=0,h=0,o=0,c=0,p=0,f=0;for(let t=0;t<q;t++){m=et(Math.floor(v._inner[t]-e)),g=et(Math.floor($._inner[t]-e));for(let e=m;e<m+x;e++)for(let i=g;i<g+x;i++)N=e-m,A=i-g,e<0||e>O-1||i<0||i>O-1||(e==n&&i==r&&(u++,o+=s.t($._inner[t],this.g.window,this.g.tileViewport),c+=s.u(v._inner[t],this.g.window,this.g.tileViewport)),e==a&&i==l&&(h++,p+=s.t($._inner[t],this.g.window,this.g.tileViewport),f+=s.u(v._inner[t],this.g.window,this.g.tileViewport)))}this.i=o/u,this.j=c/u,this.k=p/h,this.l=f/h,st(this.g.minimumValue)||(B=this.g.minimumValue),st(this.g.maximumValue)||(F=this.g.maximumValue)}else B=this.g.minimumValue,F=this.g.maximumValue;else B=this.g.globalMinimum,F=this.g.globalMaximum,st(this.g.minimumValue)||(B=this.g.minimumValue),st(this.g.maximumValue)||(F=this.g.maximumValue);this.g.testRun||(this.x(E,k,F,B),this.a=E),this.z()}x(t,e,i,s){let r,n=e.length;this.g.useLogarithmicScale&&(s=s<=0?0:it(s,this.g.logarithmBase),i=i<=0?0:it(i,this.g.logarithmBase));let l,a,u,h,o=0,m=i-s;(st(m)||m<=0)&&(m=1);let g=this.g.useLogarithmicScale,c=this.g.logarithmBase;if(null!=this.g.scaleColors){let i=new Array(this.g.scaleColors.length),p=new Array(this.g.scaleColors.length),f=new Array(this.g.scaleColors.length),d=new Array(this.g.scaleColors.length),y=new Array(this.g.scaleColors.length),b=new Array(this.g.scaleColors.length),_=new Array(this.g.scaleColors.length),w=new Array(this.g.scaleColors.length),x=new Array(this.g.scaleColors.length),V=new Array(this.g.scaleColors.length),C=new Array(this.g.scaleColors.length),I=new Array(this.g.scaleColors.length),v=this.g.scaleColorOffsets;if(null==v||v.length!=this.g.scaleColors.length)if(v=new Array(this.g.scaleColors.length),1==v.length)v[0]=0;else for(let t=0;t<this.g.scaleColors.length;t++)v[t]=t/(this.g.scaleColors.length-1);for(let t=0;t<this.g.scaleColors.length;t++)i[t]=this.g.scaleColors[t].l,f[t]=this.g.scaleColors[t].o,y[t]=this.g.scaleColors[t].n,_[t]=this.g.scaleColors[t].m,t<this.g.scaleColors.length-1?(p[t]=this.g.scaleColors[t+1].l,d[t]=this.g.scaleColors[t+1].o,b[t]=this.g.scaleColors[t+1].n,w[t]=this.g.scaleColors[t+1].m):(p[t]=this.g.scaleColors[t].l,d[t]=this.g.scaleColors[t].o,b[t]=this.g.scaleColors[t].n,w[t]=this.g.scaleColors[t].m),x[t]=p[t]-i[t],V[t]=d[t]-f[t],C[t]=b[t]-y[t],I[t]=w[t]-_[t];for(let p=0;p<n;p++){if(r=e[p],0==r)continue;g&&(r=r<=0?0:it(r,c)),o=(r-s)/m,o<0&&(o=0),o>1&&(o=1);let n=0;for(let t=0;t<v.length;t++)if(v[t]>=o){n=t-1;break}n>v.length-2&&(n=v.length-2),n<0&&(n=0),o=(o-v[n])/(v[n+1]-v[n]),l=et(Math.floor(i[n]+o*x[n])),a=et(Math.floor(f[n]+o*V[n])),u=et(Math.floor(y[n]+o*C[n])),h=et(Math.floor(_[n]+o*I[n])),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h}}else{let i=this.g.minimumColor.l,p=this.g.maximumColor.l,f=this.g.minimumColor.o,d=this.g.maximumColor.o,y=this.g.minimumColor.n,b=this.g.maximumColor.n,_=this.g.minimumColor.m,w=p-i,x=d-f,V=b-y,C=this.g.maximumColor.m-_;for(let p=0;p<n;p++)r=e[p],0!=r&&(g&&(r=it(r,c)),o=(r-s)/m,o<0&&(o=0),o>1&&(o=1),l=et(Math.floor(i+o*w)),a=et(Math.floor(f+o*x)),u=et(Math.floor(y+o*V)),h=et(Math.floor(_+o*C)),t[4*p]=l,t[4*p+1]=a,t[4*p+2]=u,t[4*p+3]=h)}}b(t){let e=new Array(et(t.width)*et(t.height));for(let t=0;t<e.length;t++)e[t]=0;return e}d(t){let e=new Array(et(t.width)*et(t.height)*4);for(let t=0;t<e.length;t++)e[t]=0;return e}c(t,e){let i=new Array(t*t);for(let t=0;t<i.length;t++)i[t]=0;let s=t/2,r=t/2;for(let e=0;e<t;e++)for(let n=0;n<t;n++){let l=Math.sqrt(Math.pow(e-r,2)+Math.pow(n-r,2));i[n*t+e]=l>s?0:s-l}let n=0,l=-17976931348623157e292,a=17976931348623157e292;for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];0!=r&&(n+=r,l=r>l?r:l,a=r<a?r:a)}for(let e=0;e<t;e++)for(let s=0;s<t;s++){let r=i[s*t+e];if(0==r)continue;let n=(r-a)/(l-a);i[s*t+e]=.01+.99*n}return i[et(r)*t+et(r)]=1,i}q(t,e){return et(Math.floor(2*e))}z(){null!=this.completedSink&&this.completedSink.onCompleted((()=>{let t=new bt;return t.url=this.w,t.x=this.n,t.y=this.o,t.z=this.p,t.globalMinimumValue=this.g.globalMinimum,t.globalMaximumValue=this.g.globalMaximum,t.globalMaximumValueLongitude=this.j,t.globalMaximumValueLatitude=this.i,t.globalMinimumValueLongitude=this.l,t.globalMinimumValueLatitude=this.k,t.imageData=this.a,t.image=this.g.image,t})())}get completedSink(){return this._completedSink}set completedSink(t){this._completedSink=t}}_t.$t=h(_t,"HeatTileGeneratorWorker"),_t.v={},_t.s=0,_t.m=0;class wt extends i{constructor(t,e,i,s){super(),this.d=0,this.a=0,this.c=0,this.b=0,this.b=t,this.d=e,this.c=i,this.a=s}}wt.$t=h(wt,"ScalerVisibleBounds");class xt extends i{constructor(t,...e){switch(super(),this.s=0,this.t=0,this.r=0,this.n=0,this.q=0,this.o=0,this.p=0,this.m=0,t=null==t?0:t){case 0:{let t=e[0],i=e[1],s=e[2],r=e[3];this.top=i,this.left=t,this.width=s,this.height=r}break;case 1:{let t=e[0],i=e[1],s=e[2];this.top=i,this.left=t,this.width=s.width,this.height=s.height}break;case 2:{let t=e[0],i=e[1];this.top=Math.min(t.y,i.y),this.left=Math.min(t.x,i.x),this.width=Math.max(Math.max(t.x,i.x)-this.left,0),this.height=Math.max(Math.max(t.y,i.y)-this.top,0)}break;case 3:{let t=e[0],i=e[1];this.top=t.y,this.left=t.x,this.width=i.width,this.height=i.height}break;case 4:this.top=0,this.left=0,this.width=0,this.height=0}}get x(){return this.s}set x(t){this.s=t,this.o=this.s,this.p=this.o+this.r}get y(){return this.t}set y(t){this.t=t,this.q=this.t,this.m=this.q+this.n}get width(){return this.r}set width(t){this.r=t,this.p=this.o+this.r}get height(){return this.n}set height(t){this.n=t,this.m=this.q+this.n}get top(){return this.q}set top(t){this.q=t,this.y=this.q}get left(){return this.o}set left(t){this.o=t,this.x=this.o}get right(){return this.p}set right(t){this.p=t,this.r=this.p-this.o}get bottom(){return this.m}set bottom(t){this.m=t,this.n=this.m-this.q}get isEmpty(){return this.r<0}static get empty(){return new xt(0,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY)}equals1(t){return!xt.l_op_Equality(t,null)&&t.x==this.x&&t.y==this.y&&t.width==this.width&&t.height==this.height}d(t,e){return t>=this.s&&t-this.r<=this.s&&e>=this.t&&e-this.n<=this.t}containsLocation(t,e){return!this.isEmpty&&this.d(t,e)}containsPoint(t){return this.containsLocation(t.x,t.y)}containsRect(t){return!this.isEmpty&&!t.isEmpty&&this.s<=t.s&&this.t<=t.t&&this.s+this.r>=t.s+t.r&&this.t+this.n>=t.t+t.n}inflate(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,(this.r<0||this.n<0)&&this.af()}af(){this.top=Number.POSITIVE_INFINITY,this.left=Number.POSITIVE_INFINITY,this.width=Number.NEGATIVE_INFINITY,this.height=Number.NEGATIVE_INFINITY}intersectsWith(t){return!this.isEmpty&&!t.isEmpty&&t.left<this.right&&this.left<t.right&&t.top<this.bottom&&this.top<t.bottom}intersect(t){if(this.intersectsWith(t)){let e=Math.max(this.x,t.x),i=Math.max(this.y,t.y),s=Math.min(this.x+this.width,t.x+t.width)-e,r=Math.min(this.y+this.height,t.y+t.height)-i;s<0&&(s=0),r<0&&(r=0),this.r=s,this.n=r,this.s=e,this.t=i,this.o=this.s,this.q=this.t,this.p=this.o+this.r,this.m=this.q+this.n}else this.af()}union(t){if(this.isEmpty)return this.s=t.x,this.t=t.y,this.r=t.width,this.n=t.height,this.o=this.s,this.q=this.t,this.p=this.o+this.r,void(this.m=this.q+this.n);if(!t.isEmpty){let e=Math.min(this.x,t.x),i=Math.min(this.y,t.y),s=this.width,r=this.height;s=t.width==Number.POSITIVE_INFINITY||this.width==Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Math.max(this.right,t.right)-e,r=t.height==Number.POSITIVE_INFINITY||this.height==Number.POSITIVE_INFINITY?Number.POSITIVE_INFINITY:Math.max(this.bottom,t.bottom)-i,this.s=e,this.t=i,this.r=s,this.n=r,this.o=this.s,this.q=this.t,this.p=this.o+this.r,this.m=this.q+this.n}}equals(t){if(null==t)return super.equals(t);let e=t;return e.left==this.left&&e.top==this.top&&e.width==this.width&&e.height==this.height}getHashCode(){return this.s^this.t^this.r^this.n}copy(){return new xt(0,this.x,this.y,this.width,this.height)}static l_op_Equality(t,e){return null==t?null==e:null!=e&&t.s==e.s&&t.t==e.t&&t.r==e.r&&t.n==e.n}static l_op_Inequality(t,e){return null==t?null!=e:null==e||t.s!=e.s||t.t!=e.t||t.r!=e.r||t.n!=e.n}}xt.$t=h(xt,"Rect");class Vt extends i{constructor(){super(),this.b=0,this.c=0,this.d=0,this.e=0,this.b=170.10225756,this.c=360,this.d=this.k(85.05112878),this.e=this.k(85.05112878)-this.k(-85.05112878)}k(t){let e=.017453292519943295*t,i=Math.sin(e);return.5*Math.log((1+i)/(1-i))}static a(t,e){let i=new xt(0,e.left/t.width,e.top/t.height,e.width/t.width,e.height/t.height),s=i.left+i.width*t.left,r=i.left+i.width*t.right,n=i.top+i.height*t.top,l=i.top+i.height*t.bottom;return new wt(s,n,r,l)}static m(t){return t=Math.exp(2*t),Math.asin((t-1)/(t+1))/.017453292519943295}t(t,e,i){let s=(t-i.top)*e.width+e.top*i.height;return s=this.k(85.05112878)-s/(i.height/this.e),Vt.m(s)}r(t,e,i){return(i.top+this.l(t,i.height)-e.top*i.height)/e.width}l(t,e){t=t>-85.05112878?t<85.05112878?t:85.05112878:-85.05112878;let i=this.k(t);return(this.d-i)*e/this.e}u(t,e,i){return(e.left+e.width*(t-i.left)/i.width)*this.c-180}s(t,e,i){let s=(t- -180)/this.c;return i.left+i.width*(s-e.left)/e.width}i(t,e){return Vt.a(t,e),this.t(e.bottom,t,e)}g(t,e){return Vt.a(t,e),this.t(e.top,t,e)}j(t,e){return Vt.a(t,e),this.u(e.left,t,e)}h(t,e){return Vt.a(t,e),this.u(e.right,t,e)}v(t,e,i){let s=i.height,r=i.top;for(let i=0;i<t.count;i++){let n=t._inner[i];n=n>-85.05112878?n<85.05112878?n:85.05112878:-85.05112878;let l=.017453292519943295*n,a=Math.sin(l),u=.5*Math.log((1+a)/(1-a)),h=(this.d-u)*s/this.e;h=r+h,t._inner[i]=(h-e.top*s)/e.width}}w(t,e,i){i.left,i.width,e.left,e.width;for(let s=0;s<t.count;s++){let r=(t._inner[s]- -180)/this.c;t._inner[s]=i.left+i.width*(r-e.left)/e.width}}}Vt.$t=h(Vt,"HeatTileScaler");let Ct=new s(null,"ITileWorkCompletedSink");class It extends i{static get postmessage(){return It._postmessage}static set postmessage(t){It._postmessage=t}static onmessage(t){let e=t.data,i=e.cancelTile,s=e.z,n=e.y,l=e.x;if(i)for(let t=0;t<It.b.length;t++){let e=It.b[t];e.g.testRun||e.g.z!=s||e.g.x!=l||e.g.y!=n||(It.b.splice(t,1),t--)}let a=new lt,u=e;if(!u.messageId)return;if(u.isNewData){let t=u.yValues,e=u.xValues,i=u.values;It._yValues=new Float64Array(t),It._xValues=new Float64Array(e),It._values=new Float64Array(i)}let h=u.scaleColors,o=new Array(h.length);for(let t=0;t<h.length;t++)o[t]=nt.u(r(h[t].a),r(h[t].r),r(h[t].g),r(h[t].b));a.scaler=It.e,a.blurRadius=u.blurRadius,a.maxBlurRadius=u.maxBlurRadius,a.useBlurRadiusAdjustedForZoom=u.useBlurRadiusAdjustedForZoom,a.minimumColor=nt.u(r(u.minimumColor.a),r(u.minimumColor.r),r(u.minimumColor.g),r(u.minimumColor.b)),a.maximumColor=nt.u(r(u.maximumColor.a),r(u.maximumColor.r),r(u.maximumColor.g),r(u.maximumColor.b)),a.tileViewport=new xt(0,u.tileViewport.left,u.tileViewport.top,u.tileViewport.width,u.tileViewport.height),a.yValues=It._yValues,a.xValues=It._xValues,a.values=It._values,a.minimumVisibleLatitude=u.minimumVisibleLatitude,a.minimumVisibleLongitude=u.minimumVisibleLongitude,a.maximumVisibleLatitude=u.maximumVisibleLatitude,a.maximumVisibleLongitude=u.maximumVisibleLongitude,a.z=r(u.z),a.x=r(u.x),a.y=r(u.y),a.window=new xt(0,u.window.left,u.window.top,u.window.width,u.window.height),a.testRun=u.testRun,a.globalMinimum=u.globalMinimum,a.globalMaximum=u.globalMaximum,a.useGlobalMinMax=u.useGlobalMinMax,a.minimumValue=u.minimumValue,a.maximumValue=u.maximumValue,a.scaleColorOffsets=u.scaleColorOffsets,a.scaleColors=o,a.useLogarithmicScale=u.useLogarithmicScale,a.logarithmBase=u.logarithmBase;let m=new _t(a);m.u=r(u.messageId),m.h=!0,m.completedSink=new vt(m);let g=m;It.b.push(g)}static start(){let t=It.b;setInterval((function(){if(t.length>0){var e=t.shift();e.doWork(),e.completedSink=null}}),16)}}It.$t=h(It,"HeatTileGeneratorWebWorker"),It.e=new Vt,It.b=[],It._postmessage=null,It._yValues=null,It._xValues=null,It._values=null;class vt extends i{constructor(t){super(),this.a=null,this.a=t}onCompleted(t){let e=t,i={},s=e.imageData;i.messageId=this.a.u,i.imageData=null==e.imageData?null:new Uint8ClampedArray(s).buffer,i.z=e.z,i.x=e.x,i.y=e.y,i.url=e.url,i.globalMinimumValue=e.globalMinimumValue,i.globalMaximumValue=e.globalMaximumValue,i.globalMaximumValueLongitude=e.globalMaximumValueLongitude,i.globalMaximumValueLatitude=e.globalMaximumValueLatitude,i.globalMinimumValueLongitude=e.globalMinimumValueLongitude,i.globalMinimumValueLatitude=e.globalMinimumValueLatitude,this.a.h&&null!=i.imageData?It.postmessage(i,[i.imageData]):It.postmessage(i)}}vt.$t=h(vt,"CompletedSinkImpl",i.$,[Ct]),self.onmessage=It.onmessage,It.postmessage=function(){self.postMessage.apply(self,Array.prototype.slice.call(arguments))},It.start()})();